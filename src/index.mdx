import { Appear, Notes, Head } from 'mdx-deck';
import syntaxHighlight from '@mdx-deck/themes/syntax-highlighter-prism';
import customTheme from './theme';

export const themes = [syntaxHighlight, customTheme];

<Head>
  <title>Don't block the frontend!</title>
</Head>

<div style={{ background: 'white' }}>
  <h1 style={{ color: '#e535ab', padding: '2em', paddingBottom: 0 }}>
    Don't block the frontend!
  </h1>
  <h3 style={{ color: '#444' }}>GraphQL Mocking</h3>
  <Appear>
    <p
      style={{
        color: '#444',
        paddingBottom: '2em',
        fontSize: '2.5  rem',
        fontStyle: 'italic',
      }}
    >
      by Sean Lawrence üé∏
    </p>
  </Appear>
</div>

---

<div style={{ background: 'white' }}>
  <h1 style={{ color: '#e535ab', padding: '2em' }}>Traditional workflow</h1>
</div>

---

<div>
  <div
    style={{
      display: 'flex',
      justifyContent: 'space-around',
      alignItems: 'flex-start',
    }}
  >
    <div
      style={{
        maxWidth: '30%',
        minWidth: 500,
        display: 'flex',
        justifyContent: 'flex-start',
        alignItems: 'center',
        padding: 50,
        flexDirection: 'column',
      }}
    >
      <img src="./images/frank.png" />
      <p style={{ fontStyle: 'italic' }}>
        Hey Becky, I need to add something to our API. Can you help?
      </p>
    </div>
    <Appear>
      <div
        style={{
          maxWidth: '30%',
          minWidth: 500,
          display: 'flex',
          justifyContent: 'flex-start',
          alignItems: 'center',
          padding: 50,
          flexDirection: 'column',
        }}
      >
        <img src="./images/becky.png" />
        <Appear>
          <p style={{ fontStyle: 'italic' }}>
            For sure! I'll get on that right now! üëå
          </p>
        </Appear>
      </div>
    </Appear>
  </div>
</div>

---

<div>
  <div
    style={{
      display: 'flex',
      justifyContent: 'space-around',
      alignItems: 'flex-start',
    }}
  >
    <div
      style={{
        maxWidth: '30%',
        minWidth: 500,
        display: 'flex',
        justifyContent: 'flex-start',
        alignItems: 'center',
        padding: 50,
        flexDirection: 'column',
      }}
    >
      <img src="./images/frank.png" />
      <p style={{ fontStyle: 'italic' }}>Thanks! Here's what I need...</p>
    </div>
    <Appear>
      <div
        style={{
          maxWidth: '30%',
          minWidth: 500,
          display: 'flex',
          justifyContent: 'flex-start',
          alignItems: 'center',
          padding: 50,
          flexDirection: 'column',
        }}
      >
        <img src="./images/becky.png" />
        <Appear>
          <p style={{ fontStyle: 'italic' }}>
            You got it, pal! Give me a week to knock this out! üëä
          </p>
        </Appear>
      </div>
    </Appear>
  </div>
</div>

---

<h1> Aaaaaaaand we wait...</h1>

<Appear>
  <h2> One week later...</h2>
</Appear>

---

<div>
  <div
    style={{
      display: 'flex',
      justifyContent: 'space-around',
      alignItems: 'flex-start',
    }}
  >
    <div
      style={{
        maxWidth: '30%',
        minWidth: 500,
        display: 'flex',
        justifyContent: 'flex-start',
        alignItems: 'center',
        padding: 50,
        flexDirection: 'column',
      }}
    >
      <img src="./images/becky.png" />
      <p style={{ fontStyle: 'italic' }}>Hey Frank! I'm done! ‚úÖ</p>
    </div>
    <Appear>
      <div
        style={{
          maxWidth: '30%',
          minWidth: 500,
          display: 'flex',
          justifyContent: 'center',
          alignItems: 'center',
          padding: 50,
          flexDirection: 'column',
        }}
      >
        <img src="./images/frank.png" />
        <Appear>
          <p style={{ fontStyle: 'italic' }}>
            Thanks! Can we change a few things though?
          </p>
        </Appear>
      </div>
    </Appear>
  </div>
</div>

---

<div style={{ display: 'flex', justifyContent: 'center' }}>
  <div
    style={{
      maxWidth: '30%',
      minWidth: 500,
      display: 'flex',
      justifyContent: 'center',
      alignItems: 'center',
      padding: 50,
      flexDirection: 'column',
    }}
  >
    <img src="./images/becky.png" />
    <p style={{ fontStyle: 'italic' }}>Say what!? üñï</p>
  </div>
</div>

---

# Can we do better?

---

<img src="./images/yeah.jpg" />

üåΩ

---

# How about...

<ul>
  <Appear>
    <li>Frontend designs and mocks API</li>
    <li>Backend implements it, while frontend consumes it</li>
    <li>No one is blocked!</li>
  </Appear>
</ul>

---

<img src="./images/alrighty-then.png" />

---

<div style={{ background: 'white' }}>
  <h1 style={{ color: '#e535ab', padding: '2em' }}>GraphQL Mock Workflow‚Ñ¢Ô∏è</h1>
</div>

---

# Analyze the problem

---

# Organize the data

---

# Add fake data

---

# Replace fake data

# with real data

---

<div style={{ background: 'white' }}>
  <h1 style={{ color: '#e535ab', padding: '2em' }}>Example</h1>
</div>

---

# Task

Build a quiz app called "How Canadian Are You?"

---

# Analyze the problem

<Notes>Ask: What data do we need?</Notes>

---

- Questions
  - Title
  - Options
    - Canadian "points"
  - Answer
- Resulting score

---

# Organize the data

<Notes>Ask: What's the easiest way to structure our data?</Notes>

---

```graphql
type Question {
  title: String!
  options: [Option!]!
}
type Option {
  title: String!
  canadianScore: Int!
}
type User {
  totalCanadianScore: Int
}
```

---

# Add fake data

<Notes>How would you mock this out in plain english?</Notes>

---

```javascript
let questions = () => [
  {
    title: 'How do you pronounce the word "about"?',
    options: [
      { title: 'About', canadianScore: 0 },
      { title: 'Aboot', canadianScore: 1 },
      { title: 'Abooooot, eh!', canadianScore: 2 },
    ],
  },
];
```

---

```javascript
let user = () => ({
  totalCanadianScore: 5,
});
```

---

# Replace fake data

# with real data

_Asynchronously_

---

<div style={{ background: 'white' }}>
  <h1 style={{ color: '#e535ab', padding: '2em' }}>Challenges</h1>
</div>

---

- Last minute changes
- Complexity
- Forgotten mocks
- Miscommunication
- "Extra" work

---

<div style={{ background: 'white', padding: '2em', minWidth: 700 }}>
  <h1 style={{ color: '#e535ab' }}>Tips</h1>
</div>

---

# Be lazy üõå

<em>
  "I will always choose a lazy person to do a difficult job,
  <br />
  because a lazy person will find an easy way to do it."
</em>

_Bill Gates, probably_

---

- Use packages like 'faker'
- Don't be clever
- Simplify the API

---

# Be even lazier üò¥

---

- Use GraphQL mocking packages, like:
  - [`graphql-faker`](https://github.com/APIs-guru/graphql-faker)
  - [`graphql-tools`](https://www.apollographql.com/docs/graphql-tools/mocking/)
    (Apollo only)

---

<img src="./images/what.png" />

---

# Have fun with it üï∫

```javascript
let user = () => ({
  favoriteBand: 'Nickelback',
});
```

---

<div style={{ background: 'white', padding: '2em', minWidth: 700 }}>
  <h1 style={{ color: '#e535ab' }}>Fin</h1>
  <p style={{ color: '#e535ab' }}>
    GitHub: <a href="https://github.com/seanwlawrence">@seanWLawrence</a>
  </p>
  <p style={{ color: '#e535ab' }}>
    Slides:{' '}
    <a href="https://bit.ly/dont-block-the-frontend">
      bit.ly/dont-block-the-frontend
    </a>
  </p>
  ‚úåÔ∏è
</div>

---

<img src="./images/you-rock.jpg" />
